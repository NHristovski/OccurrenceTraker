#name: Build and Release
#
#on:
#  push:
#    tags:
#      - 'v*'
#env:
#  GITHUB_TOKEN: ${{ secrets.TAGPAT }}
#
#jobs:
#  build:
#    runs-on: ubuntu-latest
#
#    steps:
#    - name: Checkout code
#      uses: actions/checkout@v3
#
#    - name: Set up JDK
#      uses: actions/setup-java@v3
#      with:
#        java-version: '21'  # Replace with your desired Java version
#        distribution: 'temurin'
#
#    - name: Build the project
#      run: ./mvnw clean package
#
#    - name: Upload Artifact
#      uses: actions/upload-artifact@v4
#      with:
#        name: build-artifact
#        path: target/*.jar
#
#  release:
#    needs: build
#    runs-on: ubuntu-latest
#    permissions:
#      contents: write
#    steps:
#    - name: Download Artifact
#      uses: actions/download-artifact@v4
#      with:
#        name: build-artifact
#        path: dist
#
#    - name: Create Release
#      id: create_release
#      uses: actions/create-release@v1
#      env:
#        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#      with:
#        tag_name: ${{ github.ref }}
#        release_name: Release ${{ github.ref }}
#        draft: false
#        prerelease: false
#
#    - name: Lists root
#      run: mv dist/*.jar dist/OccurrenceTraker-${{ github.ref_name }}.jar
#
#    - name: Lists dist
#      run: ls -al dist/*
#
#    - name: Upload Release Asset
#      uses: actions/upload-release-asset@v1
#      env:
#        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#      with:
#        upload_url: ${{ steps.create_release.outputs.upload_url }}
#        asset_path: dist/OccurrenceTraker-${{ github.ref_name }}.jar
#        asset_name: OccurrenceTraker-${{ github.ref_name }}.jar  # Replace with the desired name for the release asset
#        asset_content_type: application/java-archive
